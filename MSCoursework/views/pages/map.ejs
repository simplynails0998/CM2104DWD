<!-- views/pages/map.ejs -->

<!-- INTERACTIVE LEAFLET MAP -->

<!DOCTYPE html>

<html>

<head>
    <title>Munro Map - Munro Spotter</title>
    <% include ../partials/head.ejs %>

    <!-- CSS -->
    <link rel="stylesheet" href="/css/mapstyle.css">
    <link rel="stylesheet" href="/css/popupbox.css">
    <link rel="stylesheet" href="/css/tooltip-style.css">

    <!-- Leaflet Stylesheet & Script -->
    <link rel="stylesheet" href="/leaflet/leaflet.css" />
    <script src="/leaflet/leaflet.js"></script>

    <!-- mapbox -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.css' rel='stylesheet' />


</head>

<body>
    <header>
        <% include ../partials/header.ejs %>
    </header>

    <main>
        <section class="page">
            <h1>Munro Map</h1>



            <p>Interactive Munro Map, using Leaflet</p>
            <p>Click on the map markers to reveal more information about the Munro.</p>

            <div id="mapid"></div>

            <!-- Map Pop-Up Code -->
            <div id="popup">

                <!-- pop-up box for munro information -->
                <!-- information updates dynamically dependent on map marker chosen -->
                <section id="box">
                    <section id="boxHeader">
                        <div>
                            <p id="mName">Munro Name</p>
                            <span id="close">&times;</span>
                        </div>
                    </section>
                    <section id="boxContent">
                        <!-- image - munros with individual images: [A'Chailleach (Monadhliath), An Socach (Braemar)] -->
                        <img id="mImg" src="/img/bennevis.jpg">
                        <div id="mText">
                            <table>
                                <tr>
                                    <td>Height</td>
                                    <td>unknown</td>
                                </tr>
                                <tr>
                                    <td>Location</td>
                                    <td>unknown</td>
                                </tr>
                                <tr>
                                    <td>Latitude</td>
                                    <td id="lat">unknown</td>
                                </tr>
                                <tr>
                                    <td>Longitude</td>
                                    <td id="long">unknown</td>
                                </tr>
                            </table>
                        </div>
                    </section>


                    <!-- Weather Forecast Tabs in Pop-up Box-->
                    <section id="weather">
                        <div class="tab">
                            <button id="tab1" class="tablink active" onclick="openDay(event,'day1')">Today</button>
                            <button id="tab2" class="tablink" onclick="openDay(event,'day2')">Tomorrow</button>
                            <button id="tab3" class="tablink" onclick="openDay(event,'day3')">Wednesday</button>
                            <button id="tab4" class="tablink" onclick="openDay(event,'day4')">Thursday</button>
                            <button id="tab5" class="tablink" onclick="openDay(event,'day5')">Friday</button>
                        </div>

                        <!-- weather forecasts for 5 days -->
                        <div id="day1" class="tabcontent">
                            <!--Today-->
                        </div>

                        <div id="day2" class="tabcontent">
                            <!--Tomorrow-->
                        </div>

                        <div id="day3" class="tabcontent">
                            <!--DAY 3-->
                        </div>

                        <div id="day4" class="tabcontent">
                            <!--DAY 4-->
                        </div>

                        <div id="day5" class="tabcontent">
                            <!--DAY 5-->
                        </div>
                        <!-- end -->

                    </section>


                    <!-- pop-up box footer - link to list -->
                    <section id="boxFooter">
                        <div>
                            <a id="mLink" href="/munrolist">View More Information</a>
                        </div>
                    </section>

                </section>
            </div>
            <!-- End -->



        </section>

        <!-- Login Box -->
        <% include ../partials/loginbox.ejs %>

    </main>

    <footer>
        <% include ../partials/footer.ejs %>
    </footer>

    <% include ../partials/scripts.ejs %>



    <!-- Weather Scripts -->
    <script src="/weather/find-locations.js" type="text/javascript"></script>
    <script src="/weather/get-weather.js" type="text/javascript"></script>

    <!-- Script for Leaflet Map -->
    <script src="/js/jsonmap.js" type="text/javascript"></script>
    <!-- Script for weather tabs -->
    <script src="/js/w_tabs.js" type="text/javascript"></script>


</body>

</html>